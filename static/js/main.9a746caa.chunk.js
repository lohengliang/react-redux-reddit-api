(this["webpackJsonpreact-redux-reddit-api"]=this["webpackJsonpreact-redux-reddit-api"]||[]).push([[0],{187:function(e,t,n){e.exports=n(480)},480:function(e,t,n){"use strict";n.r(t);n(188),n(189),n(190),n(191),n(192),n(193),n(194),n(195),n(196),n(197),n(198),n(199),n(200),n(201),n(202),n(203),n(204),n(205),n(206),n(207),n(208),n(209),n(210),n(211),n(212),n(213),n(214),n(82),n(215),n(216),n(217),n(218),n(219),n(220),n(221),n(222),n(223),n(224),n(225),n(226),n(227),n(228),n(229),n(230),n(232),n(233),n(235),n(236),n(238),n(239),n(240),n(119),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(251),n(252),n(253),n(254),n(255),n(256),n(257),n(258),n(259),n(260),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(269),n(270),n(271),n(272),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(280),n(281),n(282),n(283),n(284),n(285),n(286),n(287),n(288),n(289),n(290),n(292),n(293),n(294),n(295),n(296),n(297),n(298),n(300),n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(308),n(309),n(310),n(167),n(311),n(312),n(169),n(313),n(314),n(315),n(316),n(170),n(317),n(318),n(319),n(320),n(321),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(338),n(339),n(340),n(341),n(342),n(344),n(345),n(346),n(347),n(348),n(349),n(350),n(351),n(352),n(353),n(354),n(355),n(356),n(357),n(358),n(359),n(360),n(361),n(362),n(363),n(364),n(365),n(366),n(367),n(368),n(369),n(370),n(371),n(372),n(373),n(374),n(375),n(376),n(127),n(377),n(378),n(379),n(380),n(381),n(382),n(383),n(385),n(386),n(387),n(388),n(389),n(390),n(391),n(392),n(394),n(395),n(396),n(397),n(398),n(399),n(400),n(401),n(402),n(403),n(404),n(405),n(406),n(407),n(408),n(409),n(410),n(411),n(412),n(413),n(414),n(415),n(416),n(417),n(418),n(420),n(421),n(422),n(423),n(424),n(425),n(426),n(427),n(428),n(429),n(430),n(431),n(432),n(433),n(434),n(435),n(436),n(437),n(438),n(439),n(440),n(441),n(442),n(443),n(444),n(445),n(446),n(447),n(448),n(449),n(450),n(451),n(453),n(454),n(455),n(456),n(457),n(458),n(459),n(460),n(461),n(462),n(463),n(464),n(465),n(466),n(467),n(468),n(470),n(180),n(471);var a=n(2),r=n.n(a),i=n(97),c=n(46),s=n(47),d=n(49),u=n(48),l=n(50),o=n(98),h=n(55),p=n(183),b=n(184),f=n(185),E=n(186),v=n.n(E);function O(e){return function(t){return t(function(e){return{type:"REQUEST_POSTS",subreddit:e}}(e)),v()("https://www.reddit.com/r/".concat(e,".json")).then((function(e){return e.json()})).then((function(n){return t(function(e,t){return{type:"RECEIVE_POSTS",subreddit:e,posts:t.data.children.map((function(e){return e.data})),receivedAt:Date.now()}}(e,n))}))}}function j(e){return function(t,n){if(function(e,t){var n=e.postsBySubreddit[t];return!n||!n.isFetching&&n.didInvalidate}(n(),e))return t(O(e))}}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1,didInvalidate:!1,items:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INVALIDATE_SUBREDDIT":return Object.assign({},e,{didInvalidate:!0});case"REQUEST_POSTS":return Object.assign({},e,{isFetching:!0,didInvalidate:!1});case"RECEIVE_POSTS":return Object.assign({},e,{isFetching:!1,didInvalidate:!1,items:t.posts,lastUpdated:t.receivedAt});default:return e}}var S=Object(h.c)({postsBySubreddit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INVALIDATE_SUBREDDIT":case"RECEIVE_POSTS":case"REQUEST_POSTS":return Object.assign({},e,Object(f.a)({},t.subreddit,m(e[t.subreddit],t)));default:return e}},selectedSubreddit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"reactjs",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_SUBREDDIT":return t.subreddit;default:return e}}}),g=Object(b.createLogger)();var y=n(77),C=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.onChange,a=e.options;return r.a.createElement("span",null,r.a.createElement("h1",null,t),r.a.createElement("select",{onChange:function(e){return n(e.target.value)},value:t},a.map((function(e){return r.a.createElement("option",{value:e,key:e},e)}))))}}]),t}(a.Component),I=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("ul",null,this.props.posts.map((function(e,t){return r.a.createElement("li",{key:t},e.title)})))}}]),t}(a.Component),T=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(d.a)(this,Object(u.a)(t).call(this,e))).handleChange=n.handleChange.bind(Object(y.a)(n)),n.handleRefreshClick=n.handleRefreshClick.bind(Object(y.a)(n)),n}return Object(l.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.dispatch)(j(e.selectedSubreddit))}},{key:"componentDidUpdate",value:function(e){if(this.props.selectedSubreddit!==e.selectedSubreddit){var t=this.props;(0,t.dispatch)(j(t.selectedSubreddit))}}},{key:"handleChange",value:function(e){this.props.dispatch({type:"SELECT_SUBREDDIT",subreddit:e}),this.props.dispatch(j(e))}},{key:"handleRefreshClick",value:function(e){e.preventDefault();var t=this.props,n=t.dispatch,a=t.selectedSubreddit;n({type:"INVALIDATE_SUBREDDIT",subreddit:a}),n(j(a))}},{key:"render",value:function(){var e=this.props,t=e.selectedSubreddit,n=e.posts,a=e.isFetching,i=e.lastUpdated;return r.a.createElement("div",null,r.a.createElement(C,{value:t,onChange:this.handleChange,options:["reactjs","frontend"]}),r.a.createElement("p",null,i&&r.a.createElement("span",null,"Last updated at ",new Date(i).toLocaleTimeString(),"."," "),!a&&r.a.createElement("button",{onClick:this.handleRefreshClick},"Refresh")),a&&0===n.length&&r.a.createElement("h2",null,"Loading..."),!a&&0===n.length&&r.a.createElement("h2",null,"Empty."),n.length>0&&r.a.createElement("div",{style:{opacity:a?.5:1}},r.a.createElement(I,{posts:n})))}}]),t}(a.Component);var D,k=Object(o.b)((function(e){var t=e.selectedSubreddit,n=e.postsBySubreddit[t]||{isFetching:!0,items:[]},a=n.isFetching,r=n.lastUpdated;return{selectedSubreddit:t,posts:n.items,isFetching:a,lastUpdated:r}}))(T),R=Object(h.d)(S,D,Object(h.a)(p.a,g)),U=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(o.a,{store:R},r.a.createElement(k,null))}}]),t}(a.Component);Object(i.render)(r.a.createElement(U,null),document.getElementById("root"))}},[[187,1,2]]]);
//# sourceMappingURL=main.9a746caa.chunk.js.map